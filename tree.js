// Generated by CoffeeScript 1.4.0
(function() {
  var tree;

  tree = {
    init: function() {
      return tree.fetch("thmzlt", "github-tree", "", function(responseData) {
        var node, _i, _len, _results;
        _results = [];
        for (_i = 0, _len = responseData.length; _i < _len; _i++) {
          node = responseData[_i];
          _results.push($("#root").append(tree.nodeTag(node)));
        }
        return _results;
      });
    },
    nodeTag: function(node) {
      var out;
      return out = "<div class=\"node " + node.type + "\">\n  <a href=\"" + node.url + "\" class=\"" + node.type + "\">" + node.name + "</a>\n</div>";
    },
    nodeTree: function(data) {
      var node, out, _i, _len;
      out = "";
      for (_i = 0, _len = data.length; _i < _len; _i++) {
        node = data[_i];
        out += nodeTag(node);
      }
      return out;
    },
    fetch: function(owner, repo, path, callback) {
      var results;
      return results = $.getJSON("https://api.github.com/repos/" + owner + "/" + repo + "/contents/" + path, function(data) {
        return callback(data);
      });
    }
  };

  $(function() {
    return tree.init();
  });

}).call(this);
