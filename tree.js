// Generated by CoffeeScript 1.4.0
(function() {
  var data, moreData, nodeTag, nodeTree;

  data = [
    {
      type: "dir",
      name: "lib"
    }, {
      type: "dir",
      name: "test"
    }, {
      type: "file",
      name: "README"
    }
  ];

  moreData = [
    {
      type: "dir",
      name: "ght"
    }, {
      type: "file",
      name: "ght.rb"
    }, {
      type: "file",
      name: "random_file_with_big_name.rb"
    }
  ];

  $(function() {
    var node, _i, _len;
    for (_i = 0, _len = data.length; _i < _len; _i++) {
      node = data[_i];
      $("#root").append(nodeTag(node));
    }
    $(".tree .node a.dir").on("click", function() {
      var it;
      it = $(this);
      if (it.attr("state") === "open") {
        it.attr("state", "closed");
        return it.parent().children("div").remove();
      } else {
        it.attr("state", "open");
        return it.after("<div class='tree'>" + (nodeTree(moreData)) + "</ul>");
      }
    });
    return $(".tree .node a.file").on("click", function() {});
  });

  nodeTag = function(node) {
    var out;
    return out = "<div class=\"node " + node.type + "\">\n  <a href=\"#\" class=\"" + node.type + "\">" + node.name + "</a>\n</div>";
  };

  nodeTree = function(data) {
    var node, out, _i, _len;
    out = "";
    for (_i = 0, _len = data.length; _i < _len; _i++) {
      node = data[_i];
      out += nodeTag(node);
    }
    return out;
  };

}).call(this);
